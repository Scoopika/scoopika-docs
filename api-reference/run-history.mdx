---
title: "RunHistory"
---

Serves as a record of a single interaction within Scoopika. This interaction can be either a user request initiating a conversation or an agent's response to that request.

There are two primary types of `RunHistory` objects:

[UserRequest](#userrequest): This represents the initial input or request sent by the user to kick off a conversation or send a new message.

[AgentResponse](#agentresponse): This represents the response generated by an agent after processing the user's request. It includes the agent's output, along with information about any tools the agent utilized during the interaction.

## Props

### UserRequest

<ResponseField name="at" type="number">
	Indicates the timestamp (in milliseconds) of when the user request was made (when the run started).
</ResponseField>

<ResponseField name="role" type='string, always "user"'>
	The role of the participant in the interaction, which will always be `"user"` for a user request.
</ResponseField>

<ResponseField name="run_id" type='string'>
	The ID assigned to the entire interaction (run). a finished request will also have an AgentResponse with the same `run_id`.
</ResponseField>

<ResponseField name="session_id" type='string'>
	Specifies the ID of the chat session within which the interaction took place.
</ResponseField>

<ResponseField name="user_id" type='string | undefined'>
	The user ID associated with the request, if available in the session. 
</ResponseField>

<ResponseField name="request" type='Inputs'>
	Represents the user's input that initiated the interaction

	[Reference to Inputs](/api-reference/inputs)
</ResponseField>

### AgentResponse

<ResponseField name="at" type="number">
	The date of when the run was finished.
</ResponseField>

<ResponseField name="role" type='string, always "agent"'>
	The role of the participant in the interaction, which will always be `"agent"` for an agent response.
</ResponseField>

<ResponseField name="run_id" type='string'>
	The ID assigned to the entire interaction (run). the response's request will have the same `run_id`.
</ResponseField>

<ResponseField name="session_id" type='string'>
	Specifies the ID of the chat session within which the interaction took place.
</ResponseField>

<ResponseField name="agent_id" type='string'>
	The ID of the agent that handled the interaction.
</ResponseField>

<ResponseField name="agent_name" type='string'>
	The name of the agent that handled the interaction.
</ResponseField>

<ResponseField name="response" type='LLMResponse'>
	The agent's response to a user's request

	[Reference to LLMResponse](/api-reference/llm-response)
</ResponseField>

<ResponseField name="tools" type='ToolHistory[]'>
	An array containing information about any external tools or functions that the agent called during the interaction.

	[Reference to ToolHistory](/api-reference/tool-history)

	<Check>All calls listed in `tools` were validated and executed successfully</Check>
</ResponseField>

<ResponseExample>
```json UserRequest example
{
	"at": 000,
	"role": "user",
	"user_id": "USER_ID",
	"request": {
		"message": "Hello!",
		"session_id": "SESSION_1",
		"plug": {}
	}
}
```

```json AgentResponse example
{
	"at": 000,
	"role": "agent",
	"run_id": "RUN_1",
	"session_id": "SESSION_1",
	"agent_id": "AGENT_1",
	"agent_name": "Agent",
	"response": {
		"type": "text",
		"content": "Hey, how can I assist you today?"
	},
	"tools": [
		{
			"call": {
				"id": "CALL_1",
				"type": "function",
				"function": {
					"name": "get_document",
					"arguments": "{\"id\": \"001\"}"
				}
			},
			"result": {
				"document": {
					"title": "Document 1"
				}
			}
		}
	]
}
```
</ResponseExample>
